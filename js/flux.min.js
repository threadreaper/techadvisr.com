function classToggle(){"use strict";var t,e;for(e=document.querySelectorAll(".text-input"),t=0;t<e.length;t+=1)""!==e[t].value?e[t].classList.add("has-content"):e[t].classList.remove("has-content")}var modalButton,modalClose,icons,modal=document.querySelector(".modal");function showModal(){storage=window.sessionStorage,storage.getItem("modalSeen")||(storage.setItem("modalSeen","true"),modal.style.display="block")}function getVerticalScrollPercentage(t){var e=t.parentNode;return(t.scrollTop||e.scrollTop)/(e.scrollHeight-e.clientHeight)*100}for(modalReveal=document.querySelector(".modal-reveal"),modalReveal.addEventListener("click",function(){modal.style.display="block"}),document.addEventListener("click",t=>{let e=t.target;if(e!=modalReveal){do{if(e==modal)return;e=e.parentNode}while(e);modal.style.display="none"}}),(modalClose=document.querySelector(".modal-close")).addEventListener("click",function(){modal.style.display="none"}),document.onscroll=function(){var t=getVerticalScrollPercentage(document.body),e=getComputedStyle(document.documentElement).getPropertyValue("--modal-trigger").trim();e&&t>e&&showModal()},document.addEventListener("mouseleave",function(t){var e=getComputedStyle(document.documentElement).getPropertyValue("--exit-intent").trim();if(!t.target.tagName||"input"!=t.target.tagName.toLowerCase()){var s=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(!(t.clientX>=s-50))if(!(t.clientY>=50))t.relatedTarget||t.toElement||1==e&&showModal()}}),icons=document.querySelectorAll(".icon"),i=0;i<icons.length;i+=1)1==RegExp(/\bfilter-primary\b/).test(icons[i].className)?(icons[i].addEventListener("mouseover",function(){this.classList.remove("filter-primary"),this.classList.add("filter-neutral")}),icons[i].addEventListener("mouseleave",function(){this.classList.remove("filter-neutral"),this.classList.add("filter-primary")})):1==RegExp(/\bfilter-secondary\b/).test(icons[i].className)?(icons[i].addEventListener("mouseover",function(){this.classList.remove("filter-secondary"),this.classList.add("filter-neutral")}),icons[i].addEventListener("mouseleave",function(){this.classList.remove("filter-neutral"),this.classList.add("filter-secondary")})):(icons[i].addEventListener("mouseover",function(){this.classList.remove("filter-neutral"),this.classList.add("filter-primary")}),icons[i].addEventListener("mouseout",function(){this.classList.remove("filter-primary"),this.classList.add("filter-neutral")}));class Color{constructor(t,e,s){this.set(t,e,s)}toString(){return`rgb(${Math.round(this.r)}, ${Math.round(this.g)}, ${Math.round(this.b)})`}set(t,e,s){this.r=this.clamp(t),this.g=this.clamp(e),this.b=this.clamp(s)}hueRotate(t=0){t=t/180*Math.PI;const e=Math.sin(t),s=Math.cos(t);this.multiply([.213+.787*s-.213*e,.715-.715*s-.715*e,.072-.072*s+.928*e,.213-.213*s+.143*e,.715+.285*s+.14*e,.072-.072*s-.283*e,.213-.213*s-.787*e,.715-.715*s+.715*e,.072+.928*s+.072*e])}grayscale(t=1){this.multiply([.2126+.7874*(1-t),.7152-.7152*(1-t),.0722-.0722*(1-t),.2126-.2126*(1-t),.7152+.2848*(1-t),.0722-.0722*(1-t),.2126-.2126*(1-t),.7152-.7152*(1-t),.0722+.9278*(1-t)])}sepia(t=1){this.multiply([.393+.607*(1-t),.769-.769*(1-t),.189-.189*(1-t),.349-.349*(1-t),.686+.314*(1-t),.168-.168*(1-t),.272-.272*(1-t),.534-.534*(1-t),.131+.869*(1-t)])}saturate(t=1){this.multiply([.213+.787*t,.715-.715*t,.072-.072*t,.213-.213*t,.715+.285*t,.072-.072*t,.213-.213*t,.715-.715*t,.072+.928*t])}multiply(t){const e=this.clamp(this.r*t[0]+this.g*t[1]+this.b*t[2]),s=this.clamp(this.r*t[3]+this.g*t[4]+this.b*t[5]),r=this.clamp(this.r*t[6]+this.g*t[7]+this.b*t[8]);this.r=e,this.g=s,this.b=r}brightness(t=1){this.linear(t)}contrast(t=1){this.linear(t,-.5*t+.5)}linear(t=1,e=0){this.r=this.clamp(this.r*t+255*e),this.g=this.clamp(this.g*t+255*e),this.b=this.clamp(this.b*t+255*e)}invert(t=1){this.r=this.clamp(255*(t+this.r/255*(1-2*t))),this.g=this.clamp(255*(t+this.g/255*(1-2*t))),this.b=this.clamp(255*(t+this.b/255*(1-2*t)))}hsl(){const t=this.r/255,e=this.g/255,s=this.b/255,r=Math.max(t,e,s),i=Math.min(t,e,s);let o,a,l=(r+i)/2;if(r===i)o=a=0;else{const n=r-i;switch(a=l>.5?n/(2-r-i):n/(r+i),r){case t:o=(e-s)/n+(e<s?6:0);break;case e:o=(s-t)/n+2;break;case s:o=(t-e)/n+4}o/=6}return{h:100*o,s:100*a,l:100*l}}clamp(t){return t>255?t=255:t<0&&(t=0),t}}class Solver{constructor(t,e){this.target=t,this.targetHSL=t.hsl(),this.reusedColor=new Color(0,0,0)}solve(){const t=this.solveNarrow(this.solveWide());return{values:t.values,loss:t.loss,filter:this.css(t.values)}}solveWide(){const t=[60,180,18e3,600,1.2,1.2];let e={loss:1/0};for(let s=0;e.loss>25&&s<3;s++){const s=[50,20,3750,50,100,100],r=this.spsa(5,t,15,s,1e3);r.loss<e.loss&&(e=r)}return e}solveNarrow(t){const e=t.loss,s=e+1,r=[.25*s,.25*s,s,.25*s,.2*s,.2*s];return this.spsa(e,r,2,t.values,500)}spsa(t,e,s,r,i){let o=null,a=1/0;const l=new Array(6),n=new Array(6),c=new Array(6);for(let d=0;d<i;d++){const i=s/Math.pow(d+1,.16666666666666666);for(let t=0;t<6;t++)l[t]=Math.random()>.5?1:-1,n[t]=r[t]+i*l[t],c[t]=r[t]-i*l[t];const u=this.loss(n)-this.loss(c);for(let s=0;s<6;s++){const o=u/(2*i)*l[s],a=e[s]/Math.pow(t+d+1,1);r[s]=h(r[s]-a*o,s)}const m=this.loss(r);m<a&&(o=r.slice(0),a=m)}return{values:o,loss:a};function h(t,e){let s=100;return 2===e?s=7500:4!==e&&5!==e||(s=200),3===e?t>s?t%=s:t<0&&(t=s+t%s):t<0?t=0:t>s&&(t=s),t}}loss(t){const e=this.reusedColor;e.set(0,0,0),e.invert(t[0]/100),e.sepia(t[1]/100),e.saturate(t[2]/100),e.hueRotate(3.6*t[3]),e.brightness(t[4]/100),e.contrast(t[5]/100);const s=e.hsl();return Math.abs(e.r-this.target.r)+Math.abs(e.g-this.target.g)+Math.abs(e.b-this.target.b)+Math.abs(s.h-this.targetHSL.h)+Math.abs(s.s-this.targetHSL.s)+Math.abs(s.l-this.targetHSL.l)}css(t){function e(e,s=1){return Math.round(t[e]*s)}return`filter: invert(${e(0)}%) sepia(${e(1)}%) saturate(${e(2)}%) hue-rotate(${e(3,3.6)}deg) brightness(${e(4)}%) contrast(${e(5)}%) drop-shadow(1px 1px 2px var(--secondary));`}}function hexToRgb(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(t,e,s,r)=>e+e+s+s+r+r);const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null}document.addEventListener("DOMContentLoaded",function(t){"use strict";var e,s,r;for(e=[getComputedStyle(document.documentElement).getPropertyValue("--primary").trim(),getComputedStyle(document.documentElement).getPropertyValue("--secondary").trim(),getComputedStyle(document.documentElement).getPropertyValue("--neutral").trim()],s=0;s<e.length;s+=1){const t=hexToRgb(e[s]),o=new Color(t[0],t[1],t[2]),a=new Solver(o).solve();r=0==s?".filter-primary":1==s?".filter-secondary":".filter-neutral";var i=document.createElement("style");i.innerHTML=r+" {"+a.filter+"}",document.body.appendChild(i)}var o=document.querySelectorAll(".text-input");for(s=0;s<o.length;s+=1)o[s].addEventListener("focusout",function(){classToggle()})});