function classToggle(){"use strict";var t,s;for(s=document.querySelectorAll(".text-input"),t=0;t<s.length;t+=1)""!==s[t].value?s[t].classList.add("has-content"):s[t].classList.remove("has-content")}var icons;for(icons=document.querySelectorAll(".icon"),i=0;i<icons.length;i+=1)1==RegExp(/\bfilter-primary\b/).test(icons[i].className)?(icons[i].addEventListener("mouseover",function(){this.classList.remove("filter-primary"),this.classList.add("filter-neutral")}),icons[i].addEventListener("mouseleave",function(){this.classList.remove("filter-neutral"),this.classList.add("filter-primary")})):1==RegExp(/\bfilter-secondary\b/).test(icons[i].className)?(icons[i].addEventListener("mouseover",function(){this.classList.remove("filter-secondary"),this.classList.add("filter-neutral")}),icons[i].addEventListener("mouseleave",function(){this.classList.remove("filter-neutral"),this.classList.add("filter-secondary")})):(icons[i].addEventListener("mouseover",function(){this.classList.remove("filter-neutral"),this.classList.add("filter-primary")}),icons[i].addEventListener("mouseout",function(){this.classList.remove("filter-primary"),this.classList.add("filter-neutral")}));class Color{constructor(t,s,e){this.set(t,s,e)}toString(){return`rgb(${Math.round(this.r)}, ${Math.round(this.g)}, ${Math.round(this.b)})`}set(t,s,e){this.r=this.clamp(t),this.g=this.clamp(s),this.b=this.clamp(e)}hueRotate(t=0){t=t/180*Math.PI;const s=Math.sin(t),e=Math.cos(t);this.multiply([.213+.787*e-.213*s,.715-.715*e-.715*s,.072-.072*e+.928*s,.213-.213*e+.143*s,.715+.285*e+.14*s,.072-.072*e-.283*s,.213-.213*e-.787*s,.715-.715*e+.715*s,.072+.928*e+.072*s])}grayscale(t=1){this.multiply([.2126+.7874*(1-t),.7152-.7152*(1-t),.0722-.0722*(1-t),.2126-.2126*(1-t),.7152+.2848*(1-t),.0722-.0722*(1-t),.2126-.2126*(1-t),.7152-.7152*(1-t),.0722+.9278*(1-t)])}sepia(t=1){this.multiply([.393+.607*(1-t),.769-.769*(1-t),.189-.189*(1-t),.349-.349*(1-t),.686+.314*(1-t),.168-.168*(1-t),.272-.272*(1-t),.534-.534*(1-t),.131+.869*(1-t)])}saturate(t=1){this.multiply([.213+.787*t,.715-.715*t,.072-.072*t,.213-.213*t,.715+.285*t,.072-.072*t,.213-.213*t,.715-.715*t,.072+.928*t])}multiply(t){const s=this.clamp(this.r*t[0]+this.g*t[1]+this.b*t[2]),e=this.clamp(this.r*t[3]+this.g*t[4]+this.b*t[5]),i=this.clamp(this.r*t[6]+this.g*t[7]+this.b*t[8]);this.r=s,this.g=e,this.b=i}brightness(t=1){this.linear(t)}contrast(t=1){this.linear(t,-.5*t+.5)}linear(t=1,s=0){this.r=this.clamp(this.r*t+255*s),this.g=this.clamp(this.g*t+255*s),this.b=this.clamp(this.b*t+255*s)}invert(t=1){this.r=this.clamp(255*(t+this.r/255*(1-2*t))),this.g=this.clamp(255*(t+this.g/255*(1-2*t))),this.b=this.clamp(255*(t+this.b/255*(1-2*t)))}hsl(){const t=this.r/255,s=this.g/255,e=this.b/255,i=Math.max(t,s,e),r=Math.min(t,s,e);let a,n,o=(i+r)/2;if(i===r)a=n=0;else{const l=i-r;switch(n=o>.5?l/(2-i-r):l/(i+r),i){case t:a=(s-e)/l+(s<e?6:0);break;case s:a=(e-t)/l+2;break;case e:a=(t-s)/l+4}a/=6}return{h:100*a,s:100*n,l:100*o}}clamp(t){return t>255?t=255:t<0&&(t=0),t}}class Solver{constructor(t,s){this.target=t,this.targetHSL=t.hsl(),this.reusedColor=new Color(0,0,0)}solve(){const t=this.solveNarrow(this.solveWide());return{values:t.values,loss:t.loss,filter:this.css(t.values)}}solveWide(){const t=[60,180,18e3,600,1.2,1.2];let s={loss:1/0};for(let e=0;s.loss>25&&e<3;e++){const e=[50,20,3750,50,100,100],i=this.spsa(5,t,15,e,1e3);i.loss<s.loss&&(s=i)}return s}solveNarrow(t){const s=t.loss,e=s+1,i=[.25*e,.25*e,e,.25*e,.2*e,.2*e];return this.spsa(s,i,2,t.values,500)}spsa(t,s,e,i,r){let a=null,n=1/0;const o=new Array(6),l=new Array(6),h=new Array(6);for(let u=0;u<r;u++){const r=e/Math.pow(u+1,.16666666666666666);for(let t=0;t<6;t++)o[t]=Math.random()>.5?1:-1,l[t]=i[t]+r*o[t],h[t]=i[t]-r*o[t];const d=this.loss(l)-this.loss(h);for(let e=0;e<6;e++){const a=d/(2*r)*o[e],n=s[e]/Math.pow(t+u+1,1);i[e]=c(i[e]-n*a,e)}const m=this.loss(i);m<n&&(a=i.slice(0),n=m)}return{values:a,loss:n};function c(t,s){let e=100;return 2===s?e=7500:4!==s&&5!==s||(e=200),3===s?t>e?t%=e:t<0&&(t=e+t%e):t<0?t=0:t>e&&(t=e),t}}loss(t){const s=this.reusedColor;s.set(0,0,0),s.invert(t[0]/100),s.sepia(t[1]/100),s.saturate(t[2]/100),s.hueRotate(3.6*t[3]),s.brightness(t[4]/100),s.contrast(t[5]/100);const e=s.hsl();return Math.abs(s.r-this.target.r)+Math.abs(s.g-this.target.g)+Math.abs(s.b-this.target.b)+Math.abs(e.h-this.targetHSL.h)+Math.abs(e.s-this.targetHSL.s)+Math.abs(e.l-this.targetHSL.l)}css(t){function s(s,e=1){return Math.round(t[s]*e)}return`filter: invert(${s(0)}%) sepia(${s(1)}%) saturate(${s(2)}%) hue-rotate(${s(3,3.6)}deg) brightness(${s(4)}%) contrast(${s(5)}%) drop-shadow(1px 1px 2px var(--secondary));`}}function hexToRgb(t){t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(t,s,e,i)=>s+s+e+e+i+i);const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return s?[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]:null}document.addEventListener("DOMContentLoaded",function(t){"use strict";var s,e,i;for(s=[getComputedStyle(document.documentElement).getPropertyValue("--primary").trim(),getComputedStyle(document.documentElement).getPropertyValue("--secondary").trim(),getComputedStyle(document.documentElement).getPropertyValue("--neutral").trim()],e=0;e<s.length;e+=1){const t=hexToRgb(s[e]),a=new Color(t[0],t[1],t[2]),n=new Solver(a).solve();i=0==e?".filter-primary":1==e?".filter-secondary":".filter-neutral";var r=document.createElement("style");r.innerHTML=i+" {"+n.filter+"}",document.body.appendChild(r)}var a=document.querySelectorAll(".text-input");for(e=0;e<a.length;e+=1)a[e].addEventListener("focusout",function(){classToggle()})});